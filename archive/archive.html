<!doctype html>
<!--This is a template for creating pages for games-->
<html>
 <head>
  <script>
        //Hi BBFC Members! To redirect this game to the under development page, uncomment it (remove // from the beginning)
        //window.location.replace("https://bbfcgaming.github.io/GameDevelopment.html")
    </script> 
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script> 
  <!--
    ____  ____  ____________   ______                _            
   / __ )/ __ )/ ____/ ____/  / ____/___ _____ ___  (_)___  ____ _
  / __  / __  / /_  / /      / / __/ __ `/ __ `__ \/ / __ \/ __ `/
 / /_/ / /_/ / __/ / /___   / /_/ / /_/ / / / / / / / / / / /_/ / 
/_____/_____/_/    \____/   \____/\__,_/_/ /_/ /_/_/_/ /_/\__, /  
                                                         /____/   
--> 
  <!--Game title goes here--> 
  <title>Site Archive - BBFC Gaming</title> 
  <!-- Global site tag (gtag.js) - Google Analytics (DON'T CHANGE THIS!!!) --> 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-129128356-2"></script> 
  <script type="text/javascript" src="cookieconsent.js"></script> 
  <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-129128356-2');
        </script> 
  <link rel="stylesheet" type="text/css" href="/stylesheet.css"> 
 </head> 
 <body> 
  <!--Buttons--> 
  <div id="buttons"> 
   <a href="/nojs.html" class="buttons-link">No JavaScript?</a> 
  </div> 
  <script>
            $(function(){
                $("#buttons").load("/buttons.html");
            });
        </script> 
  <!--Game Title--> 
  <h2>Site Archive</h2> 
  <!--Archived page--> 
  <div id="pageContainer"> 
   <iframe id="archivedPage" src="/archive/1.0.5/index.html" width="100%"></iframe> 
  </div> 
  <br>
  <!--
  <div id="overlayedbox"> 
   <div id="arrow-left"></div> 
   <div id="pv">
     x.x.x
   </div> 
   <div id="arrow-right"></div> 
      
    </div>--> 
</div>
  <div id="overlayedbox"> 
   <div id="arrow-left" onclick="calculate();"></div> 
   <div id="pv">
     x.x.x 
   </div> 
   <div id="arrow-right" onclick="calculate();"></div> 
</div>
   <br> 
   <br> 
   <br> 
   <br> 
   <div class="theme-switch-wrapper"> 
    <label class="theme-switch" for="checkbox"> <input type="checkbox" id="checkbox"> 
     <div class="slider round"></div> </label> Enable Light Mode 
   </div> 
   <!--FLOATYTHING JAVASCRIPT--> 
   <script>
  //setup
var url;
var array;
var num;
var num1;
var num2;
var num3;
var buffer;
var buffer1;
var buffer2;
var buffer3;
var buffer4;
var str;
var testing;
var ActiveXObject;
var back;
var forward;
 
calculate();

function calculate(){
url = document.getElementById('archivedPage').src;
    console.log("HERES THE URL: " + url);
    
array = url.split("/");
       console.log(array);
document.getElementById("pv").innerHTML = array[4];
       
num = array[4];
buffer = num[0];
buffer1 = num[2];
buffer2 = num[4];
//VERSION DOWN
num2 = buffer1;
num1 = buffer;
num3 = buffer2 - 1;
if (num3 < 0) {
  num2 = buffer1 - 1;
  num3 = 9;
}
if (num2 < 0) {
  num1 = buffer;
  num1 = num1 - 1;
  num2 = 9;
}
//make new num into str
str = "";
buffer3 = str.concat(num1, ".", num2, ".", num3);
console.log("VERSION DOWN: " + buffer3);
testing = false;
while (testing === false) {
  var request;
  if (window.XMLHttpRequest)
    request = new XMLHttpRequest();
  else
    request = new ActiveXObject("Microsoft.XMLHTTP");
  request.open('GET', str.concat("https://bbfcgaming.com/archive/", buffer3, "/index.html"), false);
  request.send(); // there will be a 'pause' here until the response to come.
  // the object request will be actually modified
  if (request.status === 404) {
    num3--;
    if (num3 < 0) {
      num2--;
      num3 = 9;
    }
    if (num2 < 0) {
      num1--;
      num2 = 9;
    }
    //make new num into str
    str = "";
    buffer3 = str.concat(num1, ".", num2, ".", num3);
  } else {
    testing = true;
    buffer3 = str.concat(num1, ".", num2, ".", num3);
    break;
  }
}
 
//VERSION UP
num = array[4];
buffer = num[0];
buffer1 = num[2];
buffer2 = num[4];
num3 = buffer2 * 1 + 1;
num1 = buffer;
num2 = buffer1;
if (num3 > 9) {
  num2 = buffer1 * 1 + 1;
  num3 = 0;
}
if (num2 > 9) {
  num2 = 0;
  num1 = buffer * 1 + 1;
}
//Make new num into str
buffer4 = str.concat(num1, ".", num2, ".", num3);
//normal
 console.log("VERSION UP: " + buffer4);
 
 
 
testing = false;
while (testing === false) {
  var request;
  if (window.XMLHttpRequest)
    request = new XMLHttpRequest();
  else
    request = new ActiveXObject("Microsoft.XMLHTTP");
  request.open('GET', str.concat("https://bbfcgaming.com/archive/", buffer4, "/index.html"), false);
  request.send(); // there will be a 'pause' here until the response to come.
  // the object request will be actually modified
  if (request.status === 404) {
    num3++;
    if (num3 > 9) {
      num3 = 0;
      num2++;
    }
    if (num2 > 9) {
      num2 = 0;
      num1++;
    }
    //make new num into str
    str = "";
    buffer4 = str.concat(num1, ".", num2, ".", num3);
  } else {
    testing = true;
    buffer4 = str.concat(num1, ".", num2, ".", num3);
    break;
  }
}
 
 
 
 var version;
    var version2;
    var versionArray;
    version2 = document.getElementById("archivedPage").src;
    versionArray = version2.split("/");
    version = versionArray[4];
 

//Test if too low
console.log("LOW THING: " + array[4]);
if (array[4] == "1.0.0") {
  document.getElementById("arrow-right").style.borderLeft = "10px solid gray";
  document.getElementById("arrow-left").addEventListener("click", myFunction, false);
 
  function myFunction() {
      document.getElementById("pv").innerHTML = "1.0.0";
    document.getElementById('archivedPage').src = "/archive/1.0.5/index.html";
  }
} else {
 document.getElementById("pv").innerHTML = version;
  back = str.concat("/archive/", buffer3, "/index.html");
  forward = str.concat("/archive/", buffer4, "/index.html");
  //click detection
  document.getElementById("arrow-left").addEventListener("click", myFunction, false);
 

  function myFunction() {
    //forward = str.concat(forward, '/index.html');
    document.getElementById('archivedPage').src = forward;
  }
  document.getElementById("arrow-right").addEventListener("click", myFunctionTwo, false);
 
  function myFunctionTwo() {
    //back = str.concat(back, '/index.html');
    document.getElementById('archivedPage').src = back;
  }
}
}

        </script> 
   <script>
           
        const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');

        function switchTheme(e) {
                    if (e.target.checked) {
                        var r = confirm("Are you sure you want to switch on light mode? (It won't work if you have a dark mode browser extension installed)");
                        if(r == true) {
                            document.documentElement.setAttribute('data-theme', 'light');
                            localStorage.setItem('theme', 'light'); //add this
                            sessionStorage.setItem('bgColor', 'purple');
                            sessionStorage.setItem('textColor', 'white');
                            sessionStorage.setItem('buttonBg', 'black');
                            sessionStorage.setItem('versionTextColor', 'black');
                            sessionStorage.setItem('copyTextColor', 'black');
                            document.getElementById('banner').src = document.getElementById('banner').src
                            document.getElementById('version').src = document.getElementById('version').src
                            document.getElementById('copy').src = document.getElementById('copy').src

                            $(function(){
                                $("#buttons").load("/buttons.html");
                            });

                        }else {
                            toggleSwitch.checked = false;
                        }
                    }
                    else {
                        document.documentElement.setAttribute('data-theme', 'dark');
                        localStorage.setItem('theme', 'dark'); //add this
                        sessionStorage.setItem('textColor', 'black');
                        sessionStorage.setItem('bgColor', 'red');
                        sessionStorage.setItem('buttonBg', 'blue');
                        sessionStorage.setItem('versionTextColor', 'white');
                        sessionStorage.setItem('copyTextColor', 'white');
                        document.getElementById('banner').src = document.getElementById('banner').src
                        document.getElementById('version').src = document.getElementById('version').src
                        document.getElementById('copy').src = document.getElementById('copy').src

                        $(function(){
                            $("#buttons").load("/buttons.html");
                        });
                    }    
                }



        const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;

        if (currentTheme) {
            document.documentElement.setAttribute('data-theme', currentTheme);

            if (currentTheme === 'light') {
                toggleSwitch.checked = true;
            }
        }

        toggleSwitch.addEventListener('change', switchTheme, false);
    </script> 
   <div id="myCookieConsent"> 
    <a id="cookieButton">Understood</a> 
    <div>
     This&nbsp;website is&nbsp;using&nbsp;cookies. 
     <a href="/privacypolicy.html">More&nbsp;details</a>
    </div> 
   </div> 
  </div>
 </body>
</html>
