<!DOCTYPE html>
<!--This is a template for creating pages for games-->
<html>
    <script>
        //Hi BBFC Members! To redirect this game to the under development page, uncomment it (remove // from the beginning)
        //window.location.replace("https://bbfcgaming.github.io/GameDevelopment.html")
    </script>
    <head lang="en">
        <script src="https://code.jquery.com/jquery-1.10.2.js"></script>


    <!--
    ____  ____  ____________   ______                _            
   / __ )/ __ )/ ____/ ____/  / ____/___ _____ ___  (_)___  ____ _
  / __  / __  / /_  / /      / / __/ __ `/ __ `__ \/ / __ \/ __ `/
 / /_/ / /_/ / __/ / /___   / /_/ / /_/ / / / / / / / / / / /_/ / 
/_____/_____/_/    \____/   \____/\__,_/_/ /_/ /_/_/_/ /_/\__, /  
                                                         /____/   
-->
        <!--Game title goes here-->
        <title>Salmon Says - BBFC Gaming</title>
        <!-- Global site tag (gtag.js) - Google Analytics (DON'T CHANGE THIS!!!) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-129128356-2"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-129128356-2');
        </script>

        <link rel = "stylesheet"
              type = "text/css"
              href = "stylesheet.css" />
    </head>
    <center><iframe id="banner" src="banner.html" height="50px" width="100%" frameBorder="0"></iframe></center>
    <div id="title">
        <div style="border:5px solid red; text-align:center;"><h1>BBFC Gaming</h1></div>
        <!--Buttons-->
        <div id="buttons">
            <a href="nojs.html" class="buttons-link">No JavaScript?</a>
        </div>
        <script>
            $(function(){
                $("#buttons").load("buttons.html");
            });
        </script>
        <hr>
        <br>
        <br>
    </div>
    <h2>Salmon Says</h2>
    <button style="background-color:orange;" onclick="window.open('https://scratch.mit.edu/accounts/login/');">Sign in to Scratch</button>(To save scores, etc. This does not give us any access to your account. Once you have signed in, you can close the Scratch website.)
    <br>
    <br>
    <br>
    This game uses sounds! Turn up your volume!
    <br>
    <br>
    <iframe src="https://scratch.mit.edu/projects/335527250/embed" allowtransparency="true" width="970" height="804" frameborder="0" scrolling="no" allowfullscreen></iframe>

    <br>
    <br>
    <br>
    <div class="theme-switch-wrapper">
        <label class="theme-switch" for="checkbox">
            <input type="checkbox" id="checkbox" />
            <div class="slider round"></div>
        </label>
        Enable Light Mode
    </div>
    <script>
        const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');

        function switchTheme(e) {
                    if (e.target.checked) {
                        var r = confirm("Are you sure you want to switch on light mode? (It hurts my eyes)");
                        if(r == true) {
                            document.documentElement.setAttribute('data-theme', 'light');
                            localStorage.setItem('theme', 'light'); //add this
                            sessionStorage.setItem('bgColor', 'purple');
                            sessionStorage.setItem('textColor', 'white');
                            sessionStorage.setItem('buttonBg', 'black');
                            sessionStorage.setItem('versionTextColor', 'black');
                            sessionStorage.setItem('copyTextColor', 'black');
                            document.getElementById('banner').src = document.getElementById('banner').src
                            document.getElementById('version').src = document.getElementById('version').src
                            document.getElementById('copy').src = document.getElementById('copy').src

                            $(function(){
                                $("#buttons").load("buttons.html");
                            });

                        }else {
                            toggleSwitch.checked = false;
                        }
                    }
                    else {
                        document.documentElement.setAttribute('data-theme', 'dark');
                        localStorage.setItem('theme', 'dark'); //add this
                        sessionStorage.setItem('textColor', 'black');
                        sessionStorage.setItem('bgColor', 'red');
                        sessionStorage.setItem('buttonBg', 'blue');
                        sessionStorage.setItem('versionTextColor', 'white');
                        sessionStorage.setItem('copyTextColor', 'white');
                        document.getElementById('banner').src = document.getElementById('banner').src
                        document.getElementById('version').src = document.getElementById('version').src
                        document.getElementById('copy').src = document.getElementById('copy').src

                        $(function(){
                            $("#buttons").load("buttons.html");
                        });
                    }    
                }



        const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;

        if (currentTheme) {
            document.documentElement.setAttribute('data-theme', currentTheme);

            if (currentTheme === 'light') {
                toggleSwitch.checked = true;
            }
        }

        toggleSwitch.addEventListener('change', switchTheme, false);
    </script>
</html>
